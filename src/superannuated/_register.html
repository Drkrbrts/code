<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- #region Sabio Code - You can Fold this region to remove it from sight -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="referrer" content="unsafe-url" />
    <meta name="description" content="Sabio Coding Bootcamp" />
    <meta itemprop="image" content="https://sabio.la/Sabio.png" />
    <link rel="shortcut icon" href="https://sabio.la/Sabio.png" />
    <link rel="icon" type="image/png" href="https://sabio.la/Sabio.png" />
    <!-- Do Not Change the HTML title or anything between this line and the line with the 💘's -->
    <title>PW Execise Template</title>
    <link href="https://pw.sabio.la/dist/all-site.css" rel="stylesheet" />
    <script src="https://pw.sabio.la/api/js/site"></script>
    <script src="https://unpkg.com/axios@0.19.2/dist/axios.min.js"></script>
    <script src="usersService.js"></script>
    <script src="CodeSeven-toastr-50092cc/toastr.js"></script>
    <link href="CodeSeven-toastr-50092cc/build/toastr.css" rel="stylesheet" />

    <!-- #endregion -->
    <!-- I 💘 Code, You 💘 Code, We all 💘 Code -->
    <!-- 💡 All your CSS in here -->
    <style></style>
  </head>

  <body class="sabio bg-light" data-ins="pw-00">
    <!-- Do Not Edit or Remove this nav element -->
    <nav
      class="do-not-remove navbar navbar-expand-md navbar-dark bg-dark sabio"
    ></nav>

    <div class="navbar-container"></div>

    <div class="container text-center">
      <h3>Welcome to APIWORX</h3>
      <h5>Please register below for full access.</h5>
    </div>

    <div class="form-container">
      <form
        class="container shadow col-md-6 border border-light bg-white rounded"
      >
        <div class="form-row">
          <div class="form-group col-6">
            <label for="inputFirstName">First Name</label>
            <input
              id="inputFirstName"
              type="text"
              class="form-control"
              placeholder="John"
            />
          </div>
          <div class="form-group col-6">
            <label for="inputLastName">Last Name</label>
            <input
              id="inputLastName"
              type="text"
              class="form-control"
              placeholder="Smith"
            />
          </div>
        </div>
        <div class="form-group">
          <label for="inputEmail">Email</label>
          <input
            id="inputEmail"
            type="email"
            class="form-control"
            placeholder="example@sabio.la"
          />
        </div>
        <div class="form-row">
          <div class="form-group col-6">
            <label for="inputPassword">Password</label>
            <input
              id="inputPassword"
              type="password"
              class="form-control"
              placeholder="password"
            />
          </div>
          <div class="form-group col-6">
            <label for="inputPasswordConfirm">Confirm Password</label>
            <input
              id="inputPasswordConfirm"
              type="password"
              class="form-control"
              placeholder="password"
            />
          </div>
        </div>
        <div class="form-group">
          <label for="inputAvatarUrl">Avatar Url</label>
          <input
            id="inputAvatarUrl"
            type="url"
            class="form-control"
            placeholder="https://www.example.com"
          />
        </div>
        <button type="submit" id="registerSubmitButton" class="btn btn-primary">
          Register
        </button>
      </form>
    </div>

    <!-- Do Not Edit or Remove this footer element -->
    <footer
      class="do-not-remove container-fluid footer mx-auto fb-targert sabio"
    >
      <p class="text-center">© Sabio.la 2019</p>
    </footer>

    <!--👇🏻 All your JavaScript code goes below here inside this script tag 👇🏻 -->
    <script id="candidateCode">
      function startUp() {
        console.log("start up");
        $(".do-not-remove").addClass("d-none");
        wireUpHandlers();
        renderNavbar();
      }

      function wireUpHandlers() {
        $("#registerSubmitButton").click(onRegisterSubmitButtonClick);
      }

      var onRegisterSubmitButtonClick = (e) => {
        e.preventDefault();
        var payload = {
          firstName: $("#inputFirstName").val(),
          lastName: $("#inputLastName").val(),
          email: $("#inputEmail").val(),
          password: $("#inputPassword").val(),
          passwordConfirm: $("#inputPasswordConfirm").val(),
          avatarUrl: $("#inputAvatarUrl").val(),
          tenantId: "U020PEB8DCP",
        };
        console.log(payload);
        usersService
          .register(payload)
          .then(onRegisterSuccess)
          .catch(onRegisterError);

        function onRegisterSuccess(response) {
          console.log(response);
          toastr.info("Registration sucessful. Welcome!");
          setTimeout(function () {
            window.location = "home.html";
          }, 3000);
        }
        function onRegisterError(error) {
          console.log(error);
          toastr.error("Registration error. Please try again.");
        }
      };

      var renderNavbar = () => {
        $(".navbar-container").append($("#navbarTemplate").html());
      };
    </script>

    <script id="navbarTemplate" type="text/html">
      <nav id="apiNavbar" class="navbar navbar-dark navbar-expand-lg">
        <div class="navbar-header">
          <a class="navbar-brand" href="#">
            <img
              src="/images/Sabio.png"
              alt="sabio logo"
              height="30"
              width="30"
            />
          </a>
        </div>
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a id="blogsNavLink" class="nav-link" href="home.html">Home</a>
          </li>
          <li class="nav-item">
            <a id="friendsNavLink" class="nav-link" href="friends.html"
              >Friends</a
            >
          </li>
          <li class="nav-item">
            <a
              id="blogsNavLink"
              class="nav-link disabled"
              href="blogs.refactored.html"
              >_Blogs</a
            >
          </li>
          <li class="nav-item">
            <a
              id="techNavLink"
              class="nav-link disabled"
              href="techCompanies.html"
              >_Tech Co</a
            >
          </li>
          <li class="nav-item">
            <a id="jobsNavLink" class="nav-link disabled" href="jobs.html"
              >_Jobs</a
            >
          </li>
          <li class="nav-item">
            <a id="eventNavLink" class="nav-link disabled" href="events.html"
              >_Events</a
            >
          </li>
        </ul>
        <ul id="loginRegisterNav" class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="login.html">Login</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="register.html">Register</a>
          </li>
        </ul>
        <button
          id="logoutSubmitButton"
          class="btn btn-danger d-none"
          type="submit"
        >
          Logout
        </button>
        <img
          src="https://bit.ly/3cHWcj3"
          alt="user avatar"
          id="userAvatar"
          height="30"
          width="30"
        />
      </nav>
    </script>
    <!-- 🛑 Do Not Write Any Code Below here -->
  </body>
</html>
